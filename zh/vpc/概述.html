<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>概述 | BMSIDC 技术文档</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="裸金属物理独享服务器">
    <link rel="preload" href="/assets/css/0.styles.6b8eb0b7.css" as="style"><link rel="preload" href="/assets/js/app.900fcfdd.js" as="script"><link rel="preload" href="/assets/js/2.378a062e.js" as="script"><link rel="preload" href="/assets/js/46.e1f34495.js" as="script"><link rel="prefetch" href="/assets/js/10.5e6b56db.js"><link rel="prefetch" href="/assets/js/11.89cca22d.js"><link rel="prefetch" href="/assets/js/12.be4e3ff8.js"><link rel="prefetch" href="/assets/js/13.065da8cf.js"><link rel="prefetch" href="/assets/js/14.0d5c553e.js"><link rel="prefetch" href="/assets/js/15.fb231f0e.js"><link rel="prefetch" href="/assets/js/16.68253dbd.js"><link rel="prefetch" href="/assets/js/17.b9a83a81.js"><link rel="prefetch" href="/assets/js/18.6e709f0b.js"><link rel="prefetch" href="/assets/js/19.5c0e9031.js"><link rel="prefetch" href="/assets/js/20.fba97c61.js"><link rel="prefetch" href="/assets/js/21.75a5bff7.js"><link rel="prefetch" href="/assets/js/22.96c84cc1.js"><link rel="prefetch" href="/assets/js/23.4089c7c7.js"><link rel="prefetch" href="/assets/js/24.5c228f2d.js"><link rel="prefetch" href="/assets/js/25.c9b242d1.js"><link rel="prefetch" href="/assets/js/26.bff8c6d0.js"><link rel="prefetch" href="/assets/js/27.21c7869c.js"><link rel="prefetch" href="/assets/js/28.dff0f4de.js"><link rel="prefetch" href="/assets/js/29.5da3d3d7.js"><link rel="prefetch" href="/assets/js/3.5fe336e5.js"><link rel="prefetch" href="/assets/js/30.4128153f.js"><link rel="prefetch" href="/assets/js/31.62412319.js"><link rel="prefetch" href="/assets/js/32.ed8dfa9e.js"><link rel="prefetch" href="/assets/js/33.e68ea729.js"><link rel="prefetch" href="/assets/js/34.aea1f3c5.js"><link rel="prefetch" href="/assets/js/35.c8d3af9f.js"><link rel="prefetch" href="/assets/js/36.6743e7e3.js"><link rel="prefetch" href="/assets/js/37.e11b29fc.js"><link rel="prefetch" href="/assets/js/38.af406ff2.js"><link rel="prefetch" href="/assets/js/39.bb740426.js"><link rel="prefetch" href="/assets/js/4.0ba81b7d.js"><link rel="prefetch" href="/assets/js/40.a516d19e.js"><link rel="prefetch" href="/assets/js/41.0a391b78.js"><link rel="prefetch" href="/assets/js/42.e460b5da.js"><link rel="prefetch" href="/assets/js/43.42f55cbe.js"><link rel="prefetch" href="/assets/js/44.ec124de8.js"><link rel="prefetch" href="/assets/js/45.7509d74b.js"><link rel="prefetch" href="/assets/js/47.5c4caaa7.js"><link rel="prefetch" href="/assets/js/5.556dc01f.js"><link rel="prefetch" href="/assets/js/6.92cbe7ca.js"><link rel="prefetch" href="/assets/js/7.bdade4b5.js"><link rel="prefetch" href="/assets/js/8.2ebf1220.js"><link rel="prefetch" href="/assets/js/9.c132207f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6b8eb0b7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="BMSIDC 技术文档" class="logo"> <span class="site-name can-hide">BMSIDC 技术文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://www.bmsidc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/guide/" class="nav-link">
  Chinese
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="https://www.bmsidc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/guide/" class="nav-link">
  Chinese
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/zh/guide/产品概述" class="sidebar-heading clickable"><span>产品概述</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/started/" class="sidebar-heading clickable"><span>产品介绍</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/manual/" class="sidebar-heading clickable"><span>用户指南</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/ebs/" class="sidebar-heading clickable"><span>云硬盘</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/eip/" class="sidebar-heading clickable"><span>弹性公网IP</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/vpc/" class="sidebar-heading clickable router-link-active open"><span>专有网络</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/vpc/概述.html" class="active sidebar-link">概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/vpc/概述.html#子网" class="sidebar-link">子网</a></li><li class="sidebar-sub-header"><a href="/zh/vpc/概述.html#私有网络的-ip-地址" class="sidebar-link">私有网络的 IP 地址</a></li><li class="sidebar-sub-header"><a href="/zh/vpc/概述.html#cidr" class="sidebar-link">CIDR</a></li><li class="sidebar-sub-header"><a href="/zh/vpc/概述.html#使用约束" class="sidebar-link">使用约束</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/nat/" class="sidebar-heading clickable"><span>NAT网关</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/manage/" class="sidebar-heading clickable"><span>监控与管理</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/acl/" class="sidebar-heading clickable"><span>安全组</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/shot/" class="sidebar-heading clickable"><span>快照</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/iso/" class="sidebar-heading clickable"><span>镜像</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/bwp/" class="sidebar-heading clickable"><span>共享带宽</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h1> <p>私有网络（Virtual Private Cloud）能帮助您在构建出独立的网络空间，与您在数据中心运行的传统网络极其相似，但是托管在私有网络内的是您在上的服务资源，包括：物理服务器、负载均衡、数据库等服务资源。私有网络为您提供以下功能：</p> <ul><li>通过控制台和 API 自定义网段划分、IP 地址、路由策略等。</li> <li>通过弹性公网 IP 、NAT 网关等灵活访问 Internet。</li> <li>通过安全组满足您的网络安全要求。</li></ul> <p>用户在创建 VPC 时，需要以无类域间路由（CIDR）块（例如 10.0.0.0/16）的形式为 VPC 指定 IP 地址组。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p><strong>私有网络有地域和可用区属性，不支持跨可用区。</strong></p></div> <h2 id="子网"><a href="#子网" class="header-anchor">#</a> 子网</h2> <p>子网是 VPC 内的 IP 地址块，私有网络中的所有资源都必须部署在子网内。子网具有可用区属性，如下图所示，在创建 VPC 后，您可以在私有网络所属可用区中添加子网。可用区设计目的是隔离其他可用区的故障，通过启动独立可用区内的实例，您可以保护您的应用程序不受单一位置故障的影响。</p> <h2 id="私有网络的-ip-地址"><a href="#私有网络的-ip-地址" class="header-anchor">#</a> 私有网络的 IP 地址</h2> <p>您可以通过指定 CIDR（无类别域间路由）实现对私有网络和子网整体 IP 划分。</p> <ul><li>内网 IP 地址： VPC 内的物理服务器必须指配的 IP 地址，用于 VPC 中物理服务器之间的通信，无法用于 Internet 通信。</li> <li>弹性 IP（EIP）：可以独立申请的公网 IP 地址，支持与 物理服务器/NAT 网关实例的动态绑定和解绑。</li></ul> <h2 id="cidr"><a href="#cidr" class="header-anchor">#</a> CIDR</h2> <p>CIDR（无类别域间路由，Classless Inter-Domain Routing）是由用户指定的独立网络空间地址块，通过 IP 和掩码结合，实现对网络的整体划分。以 10.1.0.0/16 为例，斜杠左边为网络块的 IP，斜杠右边为网络块的掩码。通过设定掩码的大小就可以调整网络块的大小。网络块包括的 IP 数 = 2^(32-掩码)，因而 10.1.0.0/16 网络块最多包含65536个 IP 地址。</p> <p>目前私有网络支持 IANA 定义的三个私网网段内网 IP，掩码范围遵循如下定义：最小为/16掩码，最大为/28掩码。</p> <ul><li>10.0.0.0/8（10.0.0.0-10.255.255.255）</li> <li>172.16.0.0/12（172.16.0.0-172.31.255.255）</li> <li>192.168.0.0/16（192.168.0.0-192.168.255.255）</li></ul> <p>在规划 CIDR 时需要注意：</p> <ul><li>私有网络在创建时候必须指定 CIDR，创建后不可修改。</li> <li>子网的 CIDR 必须是所在私有网络 CIDR 的一部分。</li> <li>子网的 CIDR 掩码范围小于 /22时，由于 Linux 操作系统的 ARP 表项默认阈值是1024，可能导致操作系统 ARP 表溢出，可通过调大 net/ipv4/neigh/default/gc_thresh 值解决。</li> <li>建立对等连接的私有网络之间的 CIDR 不能重叠。</li> <li>VPN 连接中每条 SPD 策略对应一个本端网段（私有网络网段）和对端网段（您的 IDC 网段），本段网段和对端网段不能重叠。</li></ul> <h2 id="使用约束"><a href="#使用约束" class="header-anchor">#</a> 使用约束</h2> <p>关于私有网络、子网您需要注意的是：</p> <ul><li>私有网络有地域和可用区属性，VPC 不支持跨可用区。</li> <li>私有网络创建后无法更改大小，如果需要您可以删除当前 VPC 并重新创建一个私有网络。</li> <li>私有网络可以包含多个子网，每个子网的网络块均为私有网络 CIDR 的子集，多个子网的 CIDR 网络块不可以重叠。</li> <li>子网有可用区属性，不支持跨可用区部署，且子网的可用区只能是其私有网络地域下的可用区，子网中的服务器需与子网在同一个可用区。</li> <li>新建私有网络和子网时候需指定 CIDR 且创建后无法更改，我们建议您创建时为私有网络和子网留出足够的 IP 资源以防业务扩容导致网络资源不足。</li> <li>保留了各个子网的前面两个 IP 地址和最后一个 IP 地址，以作 IP 联网之用。
<ul><li>例如：子网 CIDR 为 172.16.0.0/24，则保留的 IP 地址为：172.16.0.0、172.16.0.1、和 172.16.0.255。</li></ul></li></ul> <p>下表是关于私有网络和子网在个数方面的约束：</p> <table><thead><tr><th>资源</th> <th>限制（个）</th></tr></thead> <tbody><tr><td>同一地域内私有网络个数</td> <td></td></tr> <tr><td>每个私有网络内的子网数</td> <td></td></tr> <tr><td>子网大小下限</td> <td></td></tr> <tr><td>每个私有网络内的路由表个数</td> <td></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/eip/概述.html" class="prev">
        概述
      </a></span> <span class="next"><a href="/zh/nat/概述.html">
        概述
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.900fcfdd.js" defer></script><script src="/assets/js/2.378a062e.js" defer></script><script src="/assets/js/46.e1f34495.js" defer></script>
  </body>
</html>
